{"version":3,"sources":["web.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["(function(){\n    'use strict';\n\n    angular.module('smartsys')\n        .controller('WebCtrl', function($rootScope,\n                                        $state,\n                                        $stateParams,\n                                        $scope,\n                                        $auth,\n                                        $log,\n                                        $translate,\n                                        GlobalService,\n                                        ProfileService,\n                                        alertService){\n\n            $rootScope.stylesheets = [\n                {href: 'themes/'+$rootScope.config.activeTheme+'/assets/css/styles.css', type: 'text/css'}//,\n                /*\n                *   TODO: ver como podemos cargar desde auth sus propios CSS\n                 */\n                //{href: 'themes/'+$rootScope.config.activeTheme+'/assets/css/auth.css', type: 'text/css'}\n            ];\n\n            $rootScope.addStylesheet = function(stylesheet){\n                $rootScope.stylesheets.push(stylesheet);\n            };\n\n            /*\n            $scope.userProfile = null;\n\n            $scope.isAuthenticated = function() {\n                return $auth.isAuthenticated();\n            };\n\n            $scope.isAdmin = function(){\n                return $scope.userProfile.user ? $scope.userProfile.user.isAdmin : false;\n            };\n\n            /**\n             * Get user's profile information.\n\n            $scope.getUser = function() {\n\n                var promise = ProfileService.getUser();\n                promise.then(\n                    function(data){\n                        $scope.userProfile = data;\n                    },\n                    function(error){\n                        alertService.add('error', error);\n                    });\n            };\n             */\n            $scope.setWebIncludes = function(include){\n                var url = 'themes/'+ $scope.config.activeTheme+'/includes/'+include+'.html';\n                return url;\n            };\n\n            $scope.header = $scope.setWebIncludes('header');\n            $scope.footer = $scope.setWebIncludes('footer');\n\n            $scope.currentLocale = null;\n\n            $scope.getSopportedLocales = function(){\n                var promise = GlobalService.getSopportedLocales();\n                promise.then(\n                    function(data){\n                        $scope.sopportedLocales = data.sopportedLocales;\n                        $scope.currentLocale = data.currentLocale;\n                        $translate.use($scope.currentLocale);\n                    },\n                    function(error){\n                        alertService.add('error', error);\n                    });\n            };\n            $scope.getSopportedLocales();\n        });\n})();"],"sourceRoot":"/source/"}